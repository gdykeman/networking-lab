<!DOCTYPE html>
<!--[if IE 8]> <html class="ie8"> <![endif]-->
<!--[if IE 9]> <html class="ie9"> <![endif]-->
<!--[if gt IE 9]><!-->
<html>
<!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Ansible Workshops latest | Workshop | Exercise 1.1</title>
  <link href="https://assets.openshift.net/content/subdomain.css" rel="stylesheet" type="text/css">
  <link href="../../latest/_stylesheets/docs.css" rel="stylesheet" />
  <link href="https://www.ansible.com/hs-fs/hub/330046/file-448313641-png/favicon.png" rel="apple-touch-icon-precomposed" type="image/png">
  <link href="https://www.ansible.com/hs-fs/hub/330046/file-448313641-png/favicon.png" rel="shortcut icon" type="text/css">
  <!--[if IE]><link rel="shortcut icon" href="https://www.ansible.com/hs-fs/hub/330046/file-448313641-png/favicon.png"><![endif]-->
  <!-- or, set /favicon.ico for IE10 win -->
  <meta content="OpenShift" name="application-name">
  <meta content="#000000" name="msapplication-TileColor">
  <meta content="https://www.ansible.com/hs-fs/hub/330046/file-448313641-png/favicon.png" name="msapplication-TileImage">
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://assets.openshift.net/content/html5shiv.js" type="text/javascript"></script>
    <script src="https://assets.openshift.net/content/respond.js" type="text/javascript"></script>
    <link href="https://assets.openshift.net/content/vendor/respond-js/respond-proxy.html" id="respond-proxy" rel="respond-proxy">
    <link href="../../latest/_images/respond.proxy.gif" id="respond-redirect" rel="respond-redirect">
    <script src="../../latest/_javascripts/respond.proxy.js" type="text/javascript"></script>
  <![endif]-->
  <script src="https://assets.openshift.net/content/modernizr.js" type="text/javascript"></script>
  <script src="https://assets.openshift.net/content/subdomain.js" type="text/javascript"></script>
  <script src="../../latest/_javascripts/bootstrap-offcanvas.js" type="text/javascript"></script>
  <script type="text/javascript" src="https://assets.openshift.net/app/assets/site/tracking.js"></script>
</head>
<body>
  <div class="navbar navbar-default navbar-openshift" role="navigation">
  <div class="navbar-header">
    <div class="dropdown">
      <a href="#" class="dropdown-toggle navbar-menu-toggle" data-toggle="dropdown">
        <span class="navbar-menu-title">MENU</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>
      <ul class="dropdown-menu navbar-menu" role="menu">
        <li class="submenu">
          <a href="#">Overview</a>
          <ul id="submenu-overview" class="dropdown-submenu">
            <li class="submenu-heading">Public Sector Workshop</li>
            <li>
                What is Ansible Tower?
                <span class="submenu-item-desc">Extend the power of Ansible to your entire team. Ansible Tower by Red Hat helps you scale IT automation, manage complex deployments and speed productivity. Centralize and control your IT infrastructure with a visual dashboard, role-based access control, job scheduling and graphical inventory management.</span>
              </a>
            </li>
            <li class="submenu-heading">Links</li>
            <li>
              <a href="https://www.ansible.com/tower">
                Ansible Tower
                <span class="submenu-item-desc">Learn more about Ansible Tower.</span>
              </a>
            </li>
            <li>
              <a href="https://www.ansible.com/">
                Ansible
                <span class="submenu-item-desc">Ansible seamlessly unites workflow orchestration with configuration management, provisioning, and application deployment in one easy-to-use and deploy platform.</span>
              </a>
            </li>
            <li>
              <a href="https://galaxy.ansible.com/">
                Ansible Galaxy
                <span class="submenu-item-desc">Jump-start your automation project with great content from the Ansible community. Galaxy provides pre-packaged units of work known to Ansible as roles. Roles can be dropped into Ansible PlayBooks and immediately put to work. You'll find roles for provisioning infrastructure, deploying applications, and all of the tasks you do everyday.</span>
              </a>
            </li>
          </ul>
        </li>
        <li class="submenu">
          <a href="#">Connect</a>
          <ul id="submenu-connect" class="dropdown-submenu">
            <li>
              <a href="https://access.redhat.com/downloads/">
                Downloads <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://dgshow.org/">
                The Dave and Gunnar Show
              </a>
            </li>
            <li>
              <a href="https://twitter.com/redhatgov">
                Twitter <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.facebook.com/ansibleautomation/">
                Facebook <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.linkedin.com/company/red-hat">
                LinkedIn <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/RedHatGov">
                GitHub <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://plus.google.com/+RedHat">
                Google+ <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
            <li>
              <a href="https://www.youtube.com/user/RedHatVideos">
                YouTube <i class="fa fa-external-link pull-right"></i>
              </a>
            </li>
          </ul>
        </li>
      <li class="submenu">
        <a href="#">Contact Us</a>
        <ul id="submenu-connect" class="dropdown-submenu">
          <li>
             <a href="https://www.redhat.com/en/about/contact#na">
             Contact Us
             </a>
          </li>
        </ul>
    </div>
    <a class="navbar-brand red-hat-public-sector" href="/"></a>
  </div>
  <!-- <div class="navbar-collapse collapse">
    <ul class="nav navbar-nav navbar-right">
      <li class="hidden-xs dropdown"> <a href="#" class="dropdown-toggle nav-log-in" data-toggle="dropdown"> My Account<span class="caret"></span> </a>
        <ul class="dropdown-menu">
          <li><a href="https://openshift.redhat.com/app/console">OpenShift Web Console</a></li>
          <li><a href="https://console.preview.openshift.com/">(Next Gen) Web Console</a></li>
          <li><a href="https://hub.openshift.com/users/auth/github">OpenShift Hub</a></li>
        </ul>
      </li>
      <li class="hidden-xs hidden-sm"><a class="nav-sign-up" href="https://www.openshift.com/devpreview/register.html">Sign up for Free</a></li>
    </ul>
  </div> -->
</div>
  <div class="container">
    <p class="toggle-nav visible-xs pull-left">
      <button class="btn btn-default btn-sm" type="button" data-toggle="offcanvas">Toggle nav</button>
    </p>
    <ol class="breadcrumb">
      <li class="sitename">
        <a href="../../index.html">Ansible</a>
      </li>
      <li class="hidden-xs active">
        <a href="../workshop/index.html">Ansible Workshops latest</a>
      </li>
      <li class="hidden-xs active">
        <a href="../workshop/index.html">Workshop</a>
      </li>
      
      <li class="hidden-xs active">
        Exercise 1.1
      </li>
    </ol>
    <div class="row row-offcanvas row-offcanvas-left">
      <div class="col-xs-8 col-sm-3 col-md-3 sidebar sidebar-offcanvas">
        <div class="row-fluid">
          
<script>
  (function() {
    var cx = '013769182564158614814:e-dp46b51vk';
    var gcse = document.createElement('script');
    gcse.type = 'text/javascript';
    gcse.async = true;
    gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//cse.google.com/cse.js?cx=' + cx;
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(gcse, s);
  })();
</script>
<gcse:search></gcse:search>

        </div>
        <ul class="nav nav-sidebar">
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup0">
        <span id="tgSpan0" class="fa fa-angle-down"></span>Workshop
      </a>
      <ul id="topicGroup0" class="collapse in list-unstyled">
            <li><a class="" href="../workshop/index.html">Agenda</a></li>
            <li><a class="" href="../workshop/setup.html">Setup</a></li>
            <li><a class=" active" href="../workshop/exercise1.1.html">Exercise 1.1</a></li>
            <li><a class="" href="../workshop/exercise1.2.html">Exercise 1.2</a></li>
            <li><a class="" href="../workshop/exercise1.3.html">Exercise 1.3</a></li>
            <li><a class="" href="../workshop/exercise1.4.html">Exercise 1.4</a></li>
            <li><a class="" href="../workshop/exercise1.5.html">Exercise 1.5</a></li>
            <li><a class="" href="../workshop/exercise1.6.html">Exercise 1.6</a></li>
            <li><a class="" href="../workshop/exercise2.1.html">Exercise 2.1</a></li>
            <li><a class="" href="../workshop/exercise2.2.html">Exercise 2.2</a></li>
            <li><a class="" href="../workshop/exercise2.3.html">Exercise 2.3</a></li>
            <li><a class="" href="../workshop/wrapup.html">Wrap Up</a></li>
      </ul>
    </li>
    <li class="nav-header">
      <a class="" href="javascript:void(0);" data-toggle="collapse" data-target="#topicGroup1">
        <span id="tgSpan1" class="fa fa-angle-right"></span>Resources
      </a>
      <ul id="topicGroup1" class="collapse  list-unstyled">
            <li><a class="" href="../resources/links.html">Links</a></li>
            <li><a class="" href="../resources/decks.html">Decks</a></li>
      </ul>
    </li>
</ul>
      </div>
      <div class="col-xs-12 col-sm-9 col-md-9 main">
        <div class="page-header">
          <h2>Lesson 1.0 - Introduction to Ansible Core</h2>
        </div>
        <div id="preamble">
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="exercise-1-1-running-ad-hoc-commands"><a class="anchor" href="#exercise-1-1-running-ad-hoc-commands"></a>Exercise 1.1 - Running Ad-hoc commands</h2>
<div class="sectionbody">
<hr>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>For our first exercise, we are going to run some ad-hoc commands to help you get
a feel for how Ansible works.  Ansible Ad-Hoc commands enable you to perform tasks
on remote nodes without having to write a playbook.  They are very useful when you
simply need to do one or two things quickly and often, to many remote nodes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Like many commands, <code><code>ansible</code></code> allows for long-form options as well as short-form.  For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ansible control --module-name ping</pre>
</div>
</div>
<div class="paragraph">
<p>is the same as running</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ansible control -m ping</pre>
</div>
</div>
<div class="paragraph">
<p>We are going to be using the short-form options throughout this workshop</p>
</div>
</td>
</tr>
</table>
</div>
<hr>
<div class="paragraph">
<p><strong>Step 1:</strong> Let&#8217;s start with something really basic - pinging a linux host.  Note that this is not an ICMP ping but rather a python script being executed on the host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible control -m ping</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong>  Now let&#8217;s see how we can run a good ol' fashioned Linux command and format the output using the <code><code>command</code></code> module.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible control -m command -a &quot;uptime&quot; -o</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong> Let&#8217;s switch gears and take a look at our routers.  The <code><code>ios_facts</code></code> module displays ansible facts (and a lot of them) about an ios device.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible routers -m ios_facts</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong> Now, let&#8217;s get an interface summary using the <code><code>ios_command</code></code> module</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible routers -m ios_command -a 'commands=&quot;show ip int br&quot;'</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong> How about adding an MOTD to our routers?  Let&#8217;s do so by using the <code><code>ios_banner</code></code> module</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible routers -m ios_banner -a 'banner=motd text=&quot;Ansible is awesome!&quot; state=present'</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Step 6:</strong> Finally, let&#8217;s revert back and remove the banner.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">ansible routers -m ios_banner -a 'banner=motd state=absent'</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    /*<![CDATA[*/
    $(document).ready(function() {
      $("[id^='topicGroup']").on('show.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicGroup']").on('hide.bs.collapse', function (event) {
        if (!($(event.target).attr('id').match(/^topicSubGroup/))) {
          $(this).parent().find("[id^='tgSpan']").toggleClass("fa-angle-right fa-angle-down");
        }
      });
      $("[id^='topicSubGroup']").on('show.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
      $("[id^='topicSubGroup']").on('hide.bs.collapse', function () {
        $(this).parent().find("[id^='sgSpan']").toggleClass("fa-caret-right fa-caret-down");
      });
    });
    /*]]>*/
  </script>
    <footer class="footer-openshift">
  <div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-4 col-md-3 logo">
        <a href="https://www.redhat.com/"></a>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-6 text-center">
        <div class="row">
          <div class="col-xs-12 col-md-4">
            <a href="https://www.redhat.com/en/about/privacy-policy">
              Privacy Policy
            </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.redhat.com/en/about/terms-use">
            Terms and Conditions
          </a>
          </div>
          <div class="col-xs-12 col-md-4">
          <a href="https://www.redhat.com/en/technologies/industries/government">
            Public Sector
          </a>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-4 col-md-3 text-right">
        <a id="built_with_asciibinder" href="http://asciibinder.org/">
          <img src="../../latest/_images/asciibinder_web_logo.svg" alt="AsciiBinder" />
        </a>
      </div>
    </div>
  </div>
</footer>
</body>
</html>